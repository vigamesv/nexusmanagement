<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Signup</title>
  <style>
    body { font-family: Arial, sans-serif; background:#0b0b0b; color:#fff; text-align:center; padding:2rem; }
    form { margin:2rem auto; max-width:300px; background:#1a1a1a; padding:2rem; border-radius:8px; }
    input { width:100%; padding:0.5rem; margin:0.5rem 0; border-radius:4px; border:none; }
    button { background:#a020f0; color:#fff; border:none; padding:0.7rem 1.2rem; border-radius:6px; cursor:pointer; width:100%; }
    button:hover { background:#7a0fcf; }
    #plan-info { margin-bottom:1rem; font-weight:bold; color:#a020f0; }
  </style>
</head>
<body>
  <h1>Complete Signup</h1>
  <div id="plan-info"></div>
  <form method="POST" action="/signup">
    <!-- Hidden fields populated from query string -->
    <input type="hidden" name="discordId" id="discordId">
    <input type="hidden" name="plan" id="plan">

    <label>Set a Password:</label><br>
    <input type="password" name="password" required><br>

    <button type="submit">Finish Signup</button>
  </form>

  <script>
    // Read query parameters from URL
    const params = new URLSearchParams(window.location.search);
    const discordId = params.get("discordId");
    const plan = params.get("plan");

    // Populate hidden fields
    document.getElementById("discordId").value = discordId;
    document.getElementById("plan").value = plan;

    // Show plan info
    const info = document.getElementById("plan-info");
    if (plan) {
      info.textContent = "Signing up for " + plan.charAt(0).toUpperCase() + plan.slice(1) + " Plan";
    }
  </script>
</body>
</html>
