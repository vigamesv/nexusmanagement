<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Sessions Management - Nexus Dashboard</title>
  <link rel="stylesheet" href="/main/features/css/sessions.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
</head>
<body>
  <header>
    <h1>Nexus Dashboard</h1>
    <p class="subtitle">Sessions Control Panel</p>
    <div class="warning-banner">STAFF ACCESS REQUIRED</div>
  </header>

  <main class="feature-container">
    <section class="feature-card visible">
      <h2><i class="fa-solid fa-calendar-check"></i> Session Control</h2>
      <p>Manage SSU/Shutdown sessions. ER:LC + Discord integration will be added after backend setup.</p>

      <!-- Session Control Panel -->
      <div class="session-panel">
        <!-- Status Badge -->
        <div id="sessionStatus" class="status-badge inactive">No Session Active</div>

        <!-- Metrics -->
        <div class="session-metrics">
          <div class="metric-box">
            <h3>Players</h3>
            <p class="metric-value">32 / 40</p>
          </div>
          <div class="metric-box">
            <h3>Duration</h3>
            <p class="metric-value">16h 52m</p>
          </div>
        </div>

        <!-- Action Buttons -->
        <div class="session-actions">
          <button id="sessionToggle" class="session-btn start">
            <i class="fa-solid fa-play"></i> Start
          </button>
          <button class="session-btn boost"><i class="fa-solid fa-bolt"></i> Boost</button>
          <button class="session-btn low"><i class="fa-solid fa-user-slash"></i> Low Players</button>
        </div>
      </div>
    </section>
  </main>

  <!-- Fixed Return Button -->
  <button class="return-btn" onclick="location.href='/main/server.html'">
    <i class="fa-solid fa-arrow-left"></i> Return
  </button>

  <footer>
    <p>&copy; 2026 Nexus Management</p>
  </footer>

  <script>
    const sessionToggle = document.getElementById("sessionToggle");
    const sessionStatus = document.getElementById("sessionStatus");
    let sessionActive = false;

    sessionToggle.addEventListener("click", () => {
      if (!sessionActive) {
        // Start session
        sessionActive = true;
        sessionToggle.classList.remove("start");
        sessionToggle.classList.add("end");
        sessionToggle.innerHTML = '<i class="fa-solid fa-stop"></i> End';
        sessionStatus.textContent = "Session Active";
        sessionStatus.classList.remove("inactive");
        sessionStatus.classList.add("active");
      } else {
        // End session
        sessionActive = false;
        sessionToggle.classList.remove("end");
        sessionToggle.classList.add("start");
        sessionToggle.innerHTML = '<i class="fa-solid fa-play"></i> Start';
        sessionStatus.textContent = "No Session Active";
        sessionStatus.classList.remove("active");
        sessionStatus.classList.add("inactive");
      }
    });
  </script>
</body>
</html>
